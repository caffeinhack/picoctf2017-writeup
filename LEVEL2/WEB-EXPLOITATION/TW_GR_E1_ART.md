# TW_GR_E1_ART

## Question
  > Oh, sweet, they made a spinoff game to Toaster Wars! That last room has a lot of flags in it though. 
  I wonder which is the right one...? 
  Check it out [here](http://shell2017.picoctf.com:50681/).
  
## Solution
### 1. Find `package.json`
  First, this site authority is bad, so you can see `package.json`.  
  Check `package.json`, you can find `server/init.js` and `server/serv.js`.
  
### 2. Check `server/serv.js`
  Second, acsess and check `server/serv.js` .
  > http://shell2017.picoctf.com:50681/server/serv.js.
  
  You can find `server/game.js` from here.
  ```javascript
  require("./game")(app, io);
  ```
  
### 3. Check `server/game.js`
  Third, acsess and check `server/game.js`.
  You may find source code like here.
  ```javascript
  case "revealFlag":
  if (entity.items[action.item].effects[i].check == 64) {
    outcome.flag = process.env["PICO_CTF_FLAG"];
  }
  break;
  ```
  When `entity.items[action.item].effects[i].check` equal `64`, we can get the flag. 
  
### 4. Play Game !!
  Play game and go to 4th floor. Then you can see a lot of flag.
  You have to check what is a genuine article.
  
### 5. Check Flag !!
  To use this code to console of chrome developer tools, you can check where is the truth flag.
  ```javascript
  state.player.items[j].effects[i]
  ```
  Then, use item of flag, you can get the flag.
